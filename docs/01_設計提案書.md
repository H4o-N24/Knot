# 次世代Discord日程調整Bot『Knot』設計提案書

## 1. プロダクトコンセプト
**「イベント成功率を最大化する、条件付き日程最適化Bot」**

既存のDiscord日程調整Botは、ユーザーに候補日を提示して「投票」させる形式が主流です。しかし、これでは調整役が全員の回答を待ち、手動で集計して決定するという負担が残ります。
Knotは、あらかじめ登録されたユーザーの空きスケジュールに基づき、**「誰が必須か」「最低何人必要か」という条件を満たす最適日をBotが自動的に提案**します。

## 2. コアバリューと差別化要因

| 項目 | 従来のBot (Sesh, Apollo等) | Knot (本提案) |
| :--- | :--- | :--- |
| **調整方式** | 候補日への投票（手動集計） | 空き日からの自動抽出（最適化） |
| **意思決定** | 調整役が判断 | Botがランキング形式で提案 |
| **条件設定** | 困難 | 必須メンバー、最低人数、曜日指定が可能 |
| **UX** | Discord外への遷移が多い | Discordの最新UI機能で完結 |

## 3. 主要機能の設計（API連携を見据えた構成）

### 3.1. インテリジェント・スケジューリング
ユーザーは月末に翌月の空き日を一括登録します。DiscordのModal機能を利用し、カレンダーをタップするような直感的な操作感を実現します。
将来的に**Google Calendar API**と連携することで、個人のカレンダーから予定を自動取得し、空き時間を自動入力する機能への拡張を想定したデータ構造を採用します。

### 3.2. 条件付きイベント作成
`/event create` コマンドにより、以下の条件を指定してイベントを作成できます。
- **必須メンバー**: 特定のユーザー（例：リーダーや講師）が空いている日のみを抽出。
- **最低参加人数**: 閾値を下回る日は候補から自動除外。
- **曜日フィルター**: 平日のみ、あるいは週末のみといった制限。

### 3.3. 高度な定員管理（有料機能）
イベントごとに定員を設定し、先着順で参加枠を確定させます。定員に達した後は「キャンセル待ち」として受け付け、欠員が出た場合は**自動的に次のユーザーを繰り上げ、メンションで通知**します。この自動化がコミュニティ運営者の負担を劇的に軽減します。

## 4. 収益化モデルとスケーラビリティ
**Stripe API**を利用したサーバー単位のサブスクリプションモデルを導入します。

- **Freeプラン**: 10人までの小規模グループ向け。基本の日程調整。
- **Proプラン**: 30人まで。条件付き抽出、定員管理、キャンセル待ち自動化を解放。
- **Teamプラン**: 100人以上。大規模コミュニティ向け。外部カレンダー同期、詳細レポート機能。

## 5. 将来の拡張性 (Roadmap)
1. **APIエコシステム**: Google/Outlookカレンダーとの双方向同期。
2. **AI秘書モード**: OpenAI APIを活用し、「来週のどこかで5人集まれる会議を設定して」といった自然言語指示への対応。
3. **データ分析**: 過去のイベント参加率を分析し、「この日はドタキャンが発生しやすい」といったリスクをスコアリングして提示。

## 6. 結論
本設計は、**「開発負荷を最小限に抑えつつ、ユーザーの明確なペインポイント（調整の手間）を解決する」**というMVPの原則に忠実です。Discordというプラットフォームの特性を最大限に活かし、API連携による拡張性を担保することで、リリース後の成長にも柔軟に対応可能な、極めて現実的かつ強力な設計案となっています。
